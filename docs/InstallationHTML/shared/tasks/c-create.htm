<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="concept" name="DC.Type" />
<meta name="DC.Title" content="Testing the CLC Installation" />
<meta scheme="URI" name="DC.Relation" content="../../installation/chapter-5/c-nextsteps.htm" />
<meta content="XHTML" name="DC.Format" />
<meta content="CreateCluster" name="DC.Identifier" />
<meta content="en-us" name="DC.Language" />
<link href="../../commonltr.css" type="text/css" rel="stylesheet" />
<link href="../../book.css" type="text/css" rel="stylesheet" />
<title>Testing the CLC Installation</title>
</head>
<body id="CreateCluster">


    <h1 class="topictitle1"><span>Testing the <span>CLC</span> Installation</span></h1>

    <div>
        <div class="section">
            
            
            
            
            <p>To check whether <span>CLC</span> has been installed correctly, access the <strong>Clusters</strong> panel in the OpenStack dashboard: </p>

            <div class="p" id="CreateCluster__CreateCluster">
                <ol>
                    <li id="CreateCluster__Create1">Log in to the OpenStack dashboard as an administrator. </li>

                    <li id="CreateCluster__Create2">Go to <strong>Project &gt; Orchestration &gt; Clusters</strong>.<p>The panel for cluster management provided by <span>CLC</span> is opened:</p>

                        
                        <div class="p">
                            <div class="fignone">
                                <img src="../../images/clusters.png" width="538" height="154" alt="clusters.png" /><br />
                            </div>

                        </div>
</li>

                    <li id="CreateCluster__Create3">Click <strong>Create Cluster</strong>:  
                        
                        <div class="p">
                            <div class="fignone">
                                <img src="../../images/createcluster.png" width="512" height="519" alt="createcluster.png" /><br />
                            </div>

                        </div>
<p>
                            
                        </p>
</li>

                    <li>On the <strong>Details</strong> tab, enter the following information: <div class="p">
                            <ul>
                                <li id="CreateCluster__Create4"><strong>Cluster Name</strong><p>Name of the cluster. The name must be unique within the OpenStack project, start with a letter and only contain alphanumeric characters, numbers, underscores, periods, and hyphens. The cluster name may consist of a maximum of 200 characters.</p>
</li>

                                <li><strong>Flavor</strong><p>Flavors are virtual hardware templates in OpenStack, defining sizes for RAM, disks, number of cores, and other resources. The default OpenStack installation provides several flavors. 
                                        <span>It is recommended to create and use a flavor which defines the minimum configuration for the creation of a Kubernetes cluster with CentOS Atomic host image nodes:</span>
                                        </p>
<div class="p">
                                        <ul>
                                            <li>1 vCPU (virtual CPU) must be present for each node in the cluster. In your OpenStack environment, this vCPU must not be shared with other VMs.</li>

                                            <li>1024 MB of RAM virtual machine memory.</li>

                                            <li>10 GB of virtual root disk size. </li>

                                        </ul>

                                    </div>
<p>Flavors which are not large enough for cluster environments are filtered out from the list of flavors that can be chosen.</p>
<p>Refer to <a href="c-flavor.htm">Defining a Custom Flavor</a> for information on how to create a flavor.</p>
</li>

                                <li id="CreateCluster__Create5"><strong>Node Count</strong><p>Number of worker nodes to be created in the cluster to be provisioned. As an example, specify <samp class="codeph">2</samp>. </p>
<p>As you type, in the <strong>Project Limits</strong> area, you see the resources the cluster will use in relation to the quota set for the current project. </p>
<p>Quota are operational limits. <span>CLC</span> uses the default OpenStack project quota. Without sensible quota, a single project could exceed all available physical resources, and thus make the whole OpenStack environment unstable. The colors have the following meaning: </p>
<div class="p">
                                        <ul>
                                            <li>Blue: The resources already used by the number of instances in OpenStack defined in the project's quota before the cluster is created.</li>

                                            <li>Green: The resources that will be used as soon as the cluster is created.</li>

                                            <li>Red: The number of nodes you specified will exceed the resources defined in the default quota of the OpenStack project. Thus you either need to increase the project quota, or specify a lower number of nodes in the <strong>Node Count</strong> field.</li>

                                        </ul>

                                    </div>
<p>A Kubernetes cluster always consists of a master node and one or several worker nodes. The master node is added to the amount of nodes that you specify in the <strong>Node Count</strong> field.</p>
</li>

                                <li id="CreateCluster__Create6"><strong>Master Count</strong> (read-only)<p>The number of Kubernetes master nodes. Currently, there can only be 1 master. </p>
</li>

                            </ul>

                        </div>
</li>

                    
                    <li>On the <strong>Key Pair for Access &amp; Security</strong> tab, select a key pair or create a new one by clicking the plus (+) sign.  <p>Key pairs define how you log in to a cluster node after it has been launched. Cloud images support public key authentication rather than conventional user name/password authentication. Key pairs are SSH credentials that are injected into an OpenStack instance when it is launched. Each project should have at least one key pair.</p>
<p>When using the dashboard for the first time, you need to create a key pair for the project. Refer to <a href="c-keyvalue.htm">Creating a Key Pair for SSH Access</a> for details on how to create a key pair.</p>
</li>

                    
                    <li id="CreateCluster__Create8">On the <strong>IP Pool</strong> tab, select a network. <p>An OpenStack administrator can set up several networks and subnets. The network defines the range of floating IP addresses the nodes in the cluster to be provisioned can be assigned. </p>
</li>

                    <li id="CreateCluster__Create9">Click <strong>Create</strong>.</li>

                </ol>

            </div>

            <p><span>CLC</span> starts provisioning the Kubernetes cluster. The panel for cluster management provided by <span>CLC</span> now looks, for example, as follows: </p>

            
            <div class="p">
                <div class="fignone">
                    <img src="../../images/clusterlist.png" width="533" height="146" alt="clusterlist.png" /><br />
                </div>

            </div>

            <div class="p">
                <ul>
                    <li><strong>Cluster Name</strong>: The name of the cluster as specified when you created the cluster. </li>

                    <li><strong>Master IP</strong>: IP address of the master node. </li>

                    <li><strong>Node Count</strong>: Number of provisioned worker nodes. </li>

                    <li><strong>Total Cores</strong>: Number of vCPU cores used by the provisioned worker nodes. </li>

                    <li><strong>Flavor</strong>: The flavor used for the cluster as selected when you created the cluster. </li>

                    <li><strong>Status</strong>: The status of the cluster. This is, for example, <samp class="codeph">Create in Progress</samp> when Kubernetes starts to provision the cluster, or <samp class="codeph">Create Complete</samp> when the provisioning of the cluster is completed. </li>

                </ul>

            </div>

            <p id="CreateCluster__result1">When the provisioning of the cluster is finished, a stack representing the cluster is created in OpenStack. The <span>CLC</span> Heat orchestration template boots the Kubernetes cluster with the specified number of worker nodes and one master node:</p>
 
                
            <div class="p">
                <div class="fignone">
                    <img src="../../images/sample-cluster.png" width="484" height="405" alt="sample-cluster.png" /><br />
                </div>

            </div>

            <p id="CreateCluster__result2">The networking between the containers is configured using Flannel, a network fabric layer that provides each node with an individual subnet for container communication. You can see this configuration in the OpenStack dashboard (<strong>Project &gt; Network &gt; Network Topology</strong>): </p>

            
            <div class="p">
                <div class="fignone">
                    <img src="../../images/networktopology.png" width="522" height="459" alt="networktopology.png" /><br />
                </div>
</div>

        </div>

        <div class="section">
            <p id="CreateCluster__result3">The newly created stack represents the cluster in OpenStack. When you take a look at the stack (<strong>Project &gt; Orchestration &gt; Stacks</strong>), you see the floating IP addresses of the master and the worker nodes:</p>

            
            <div class="p">    
                <div class="fignone">
                    <img src="../../images/osstack.png" width="532" height="253" alt="osstack.png" /><br />
                </div>
</div>

  <p>
      
          The floating IP addresses can also be viewed on an instance level (<strong>Project &gt; Compute &gt; Instances</strong>).</p>

            <div class="p">
                <div class="note"><span class="notetitle">Note:</span> You can always check the status of the cluster and its health with <strong>Project &gt; Orchestration &gt; Stacks</strong>. </div>

            </div>

            <p>You can now proceed with deploying workloads to the cluster. Refer to the <em>Cluster Management Guide</em> for details. </p>

            </div>

    </div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="../../installation/chapter-5/c-nextsteps.htm">Next Steps</a></div>
</div>
</div>

</body>
</html>